{
  "name": "driving-techno",
  "genre": "techno",
  "pattern": "// Driving Techno - 112 cycles (~2:35 at 130 BPM)\n// Structure: Intro(16) > Build(16) > Drop(32) > Breakdown(16) > Drop2(24) > Outro(8)\nsetcpm(130/4)\n\n// Section timing helpers\nconst intro = (p) => p.mask(\"<1!16 0!96>\")\nconst build = (p) => p.mask(\"<0!16 1!16 0!80>\")\nconst drop1 = (p) => p.mask(\"<0!32 1!32 0!48>\")\nconst breakdown = (p) => p.mask(\"<0!64 1!16 0!32>\")\nconst drop2 = (p) => p.mask(\"<0!80 1!24 0!8>\")\nconst outro = (p) => p.mask(\"<0!104 1!8>\")\nconst fromBuild = (p) => p.mask(\"<0!16 1!96>\")\nconst fromDrop = (p) => p.mask(\"<0!32 1!80>\")\nconst drops = (p) => p.mask(\"<0!32 1!32 0!16 1!24 0!8>\")\nconst notBreakdown = (p) => p.mask(\"<1!64 0!16 1!32>\")\n\nstack(\n  // === KICK DRUM ===\n  // 4/4 kick throughout, absent in breakdown\n  s(\"bd*4\")\n    .gain(0.95)\n    .mask(\"<1!64 0!16 1!32>\")\n    .sometimes(x => x.speed(1.02)),\n\n  // === HI-HATS ===\n  // Offbeat hats from build onwards\n  s(\"~ hh ~ hh\")\n    .gain(0.6)\n    .speed(\"<1 1.1 1 0.95>/4\")\n    .mask(\"<0!16 1!96>\")\n    .sometimes(x => x.gain(0.4))\n    .every(4, x => x.fast(2)),\n\n  // Open hat accents\n  s(\"~ ~ ~ oh\")\n    .gain(0.45)\n    .mask(\"<0!32 1!32 0!16 1!24 0!8>\")\n    .every(8, x => x.struct(\"~ oh ~ oh\")),\n\n  // === CLAP/SNARE ===\n  // Clap on 2 and 4\n  s(\"~ cp ~ cp\")\n    .gain(0.7)\n    .room(0.15)\n    .mask(\"<0!16 1!96>\")\n    .every(16, x => x.s(\"~ cp ~ [cp cp]\")),\n\n  // === BASS ===\n  // Driving minor key bassline (A minor)\n  note(\"<a1 a1 a1 g1>*4\")\n    .s(\"sawtooth\")\n    .cutoff(sine.range(400, 1200).slow(8))\n    .resonance(0.2)\n    .gain(0.75)\n    .mask(\"<0!32 1!32 0!16 1!24 0!8>\")\n    .struct(\"1 ~ 1 [1 ~] 1 ~ 1 ~\")\n    .every(4, x => x.struct(\"1 1 1 [1 1] 1 ~ 1 1\")),\n\n  // Bass teaser in build section\n  note(\"a1*2\")\n    .s(\"sawtooth\")\n    .cutoff(600)\n    .gain(0.5)\n    .mask(\"<0!16 1!16 0!80>\"),\n\n  // Sub bass reinforcement\n  note(\"a0*4\")\n    .s(\"sine\")\n    .gain(0.6)\n    .mask(\"<0!32 1!32 0!16 1!24 0!8>\"),\n\n  // === STAB SYNTHS ===\n  // Main stab with filter automation\n  note(\"<[a3,c4,e4] [g3,b3,d4] [f3,a3,c4] [e3,g3,b3]>\")\n    .s(\"sawtooth\")\n    .cutoff(sine.range(800, 3000).slow(16))\n    .resonance(0.3)\n    .attack(0.01)\n    .release(0.2)\n    .gain(0.5)\n    .room(0.2)\n    .struct(\"1 ~ ~ 1 ~ 1 ~ ~\")\n    .mask(\"<0!32 1!32 0!16 1!24 0!8>\")\n    .every(8, x => x.struct(\"1 1 ~ 1 ~ 1 1 ~\")),\n\n  // Breakdown pad - filter sweep\n  note(\"[a3,c4,e4,a4]\")\n    .s(\"sawtooth\")\n    .cutoff(sine.range(200, 4000).slow(16))\n    .resonance(0.4)\n    .attack(0.5)\n    .release(2)\n    .gain(0.4)\n    .room(0.5)\n    .mask(\"<0!64 1!16 0!32>\"),\n\n  // === PERCUSSION ===\n  // Ride cymbal in drops\n  s(\"~ ~ rd ~\")\n    .gain(0.35)\n    .speed(0.9)\n    .mask(\"<0!32 1!32 0!16 1!24 0!8>\")\n    .sometimes(x => x.gain(0.25)),\n\n  // Tom fills\n  s(\"~ ~ ~ ~\")\n    .every(16, x => x.s(\"tom:0 tom:1 tom:2 tom:3\"))\n    .gain(0.5)\n    .mask(\"<0!16 1!96>\"),\n\n  // === TEXTURE ===\n  // Noise sweep in build\n  s(\"noise\")\n    .cutoff(sine.range(500, 8000).slow(16))\n    .gain(0.15)\n    .mask(\"<0!16 1!16 0!80>\"),\n\n  // Intro tension - filtered kick resonance\n  note(\"a1\")\n    .s(\"sine\")\n    .cutoff(200)\n    .gain(0.3)\n    .decay(0.5)\n    .mask(\"<1!16 0!96>\")\n    .struct(\"1 ~ ~ ~ 1 ~ ~ ~\")\n\n).gain(0.8)",
  "bpm": 130,
  "key": "Am",
  "description": "Driving techno track with full arrangement: 112 cycles featuring intro, build, two drops, breakdown, and outro. Uses mask-based section control for structured composition.",
  "tags": [
    "techno",
    "driving",
    "longform",
    "arrangement",
    "4-4"
  ],
  "timestamp": "2026-01-25T18:00:00.000Z",
  "structure": {
    "intro": {"start": 0, "length": 16, "description": "Kick only with filtered sine tension"},
    "build": {"start": 16, "length": 16, "description": "Add hats, claps, noise sweep, bass teaser"},
    "drop1": {"start": 32, "length": 32, "description": "Full power - all elements"},
    "breakdown": {"start": 64, "length": 16, "description": "Filter sweep pad, kick removed"},
    "drop2": {"start": 80, "length": 24, "description": "Return with variation"},
    "outro": {"start": 104, "length": 8, "description": "Strip down to kick"}
  },
  "duration_seconds": 155
}
